generic:
  appName: sabnzbd
  deployment:
    image: lscr.io/linuxserver/sabnzbd:latest
    ports:
    - containerPort: 8080
    pvcMounts:
      config:
        hostPath: /mnt/somewhere/unencrypted/apps/sabnzbd/config
        mountPath: /config
      downloads:
        hostPath: /data/volumes/sabnzbd-downloads
        mountPath: /mnt/downloads
      media:
        hostPath: /mnt/somewhere/encrypted/media
        mountPath: /mnt/media
      watchdir:
        hostPath: /mnt/somewhere/unencrypted/apps/watchdir
        mountPath: /mnt/watchdir
  ingress:
    https:
    - middlewares:
      - name: traefik-forward-auth
        namespace: argocd
      port: 8080
      subdomain: sabnzbd
    - matchSuffix: '&& ( Path(`/sabnzbd/api`) || QueryRegexp(`apikey`, `^[a-z0-9]{32}$`))'
      port: 8080
      priority: 20
      subdomain: sabnzbd
  service:
    ports:
    - name: http
      port: 8080
