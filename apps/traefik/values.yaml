global:
  domain: ~ # example.com
  oauth2_proxy:
    oidc_client_id: ~ # your-cognito-client-id
    oidc_issuer_url: ~ # https://accounts.google.com
  akeyless:
    path: ~ # /path/to/secrets
additionalExposedPorts:
  sftpgo:
    port: 2222
    protocol: TCP
  ftp:
    port: 2121
    protocol: TCP
  dns:
    port: 53
    protocol: UDP
loadBalancerIP: null
generic:
  externalSecrets:
    cloudflare-api-credentials:
      - email: "/acme/cloudflare-api-credentials_email"
      - apiKey: "/acme/cloudflare-api-credentials_apiKey"
    oauth2-proxy:
      - client-id: "/oidc/oauth2-proxy/client_id"
      - client-secret: "/oidc/oauth2-proxy/client_secret"
      - cookie-secret: "/oidc/oauth2-proxy/cookie_secret"
  persistentVolumeClaims:
    data:
      hostPath: ~ # /mnt/somewhere/unencrypted/apps/traefik/data
      backup:
        enabled: true
middlewares:
  cloudflare:
    allowedCIDRs: []

oauth2-proxy:
  config:
    existingSecret: oauth2-proxy
    # Static configuration - environment-specific values go in extraArgs
    configFile: |
      provider = "oidc"
      upstreams = ["static://202"]
      reverse_proxy = true
      cookie_samesite = "none"
      cookie_secure = true
      email_domains = ["*"]
      custom_templates_dir = "/templates"
  # Environment-specific extraArgs (in homelab_environments):
  #   oidc-issuer-url, cookie-domain, whitelist-domain, redirect-url
  deploymentAnnotations:
    reloader.stakater.com/auto: "true"
  extraVolumes:
    - name: custom-templates
      configMap:
        name: oauth2-proxy-templates
  extraVolumeMounts:
    - name: custom-templates
      mountPath: /templates
