# Global settings applied to all applications
# All helm sub-charts can access this with {{ .Values.global.<key> }},
#  even if they are not in the same chart
global:
  # Common domain configuration
  domain: home-server.dev

  externalSecrets:
    refreshInterval: "1h"
    clusterSecretStoreRef:
      name: akeyless-secret-store

  # Authentication settings
  akeyless:
    path: /kind-homelab

  # Email settings for services
  email: Jonas@Hess.pm

  # DNS provider configuration
  cloudflare:
    email: Jonas@Hess.pm

  # Certificate management
  letsencrypt:
    email: Jonas@Hess.pm

  traefik:
    middlewareNamespace: argocd

  # Authentication provider
  traefik_forward_auth:
    oidc_client_id: 6e1bl5i55ao7bhhcufk85ussm
    oidc_issuer_url: https://cognito-idp.eu-central-1.amazonaws.com/eu-central-1_t9DQfKlSX

  argocd:
    targetRevision: ~ # main

    # Global ignore differences (applied to all apps unless overridden)
    ignoreDifferences:
      - group: ""
        kind: "Secret"
        jsonPointers:
          - "/data"


# All applications to be deployed by Argo CD
apps:
  homer:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "10"  # Deploy after core services

    # Centralized group definitions
    groups:

      infrastructure:
        name: "Infrastructure"
        icon: "fas fa-network-wired"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/network.svg"

      monitoring:
        name: "Monitoring"
        icon: "fas fa-chart-line"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/grafana.svg"

      development:
        name: "Development"
        icon: "fas fa-code-branch"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/github.svg"

      security:
        name: "Security & Networks"
        icon: "fas fa-shield-alt"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/security.svg"

      smartHome:
        name: "Smart Home"
        icon: "fas fa-home"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/home-assistant.svg"

      media:
        name: "Media & Entertainment"
        icon: "fas fa-photo-video"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/plex.svg"

      starrs:
        name: "Starrs"
        icon: "fas fa-stars"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/jiohotstar.png"

      downloads:
        name: "Downloads"
        icon: "fas fa-download"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/downloads.svg"


      productivity:
        name: "Productivity"
        icon: "fas fa-file-alt"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/paperless-ng.svg"

      ai:
        name: "AI & ML"
        icon: "fas fa-comments"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/ollama.svg"


  # Application Definitions
  stirlingpdf:
    enabled: false
    homer:
      enabled: true
      group: "productivity"
      logo: "https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/svg/stirling-pdf.svg"
      subtitle: "Your PDF Swiss Army Knife"
      displayName: "StirlingPDF"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "10"  # Deploy after monitoring is available
  adguard:
    enabled: false
    homer:
      enabled: true
      group: "infrastructure"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/adguard-home.svg"
      subtitle: "Network-wide Ad Blocker"
      displayName: "AdGuard"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "15"  # Deploy after core services
  akeyless:
    enabled: false
    homer:
      enabled: true
      url: "https://console.akeyless.io/"
      group: "infrastructure"
      logo: "https://akeyless-908832575.imgix.net/wp-content/uploads/2024/03/akeyless-2024.png"
      subtitle: "Secrets Management Platform"
      displayName: "Akeyless"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "5"  # Early deployment for secrets access
  argocd:
    enabled: true
    homer:
      enabled: true
      group: "infrastructure"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/argo-cd.svg"
      subtitle: "GitOps Continuous Delivery"
      displayName: "Argo CD"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "0"  # Deploy first as it manages other deployments
  argoimageupdater:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "1"  # Deploy right after ArgoCD
  asn:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "20"
  aws:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "5"  # Early deployment for cloud infrastructure
  cloudflareddns:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "3"  # Early deployment for DNS services
  cnpg:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "4"  # Deploy before apps that need PostgreSQL
  drone:
    enabled: false
    homer:
      enabled: true
      group: "development"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/drone.svg"
      subtitle: "Continuous Integration Platform"
      displayName: "Drone CI"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "8"  # Deploy after core services
  duplicati:
    enabled: false
    homer:
      enabled: true
      group: "infrastructure"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/duplicati.svg"
      subtitle: "Backup Software"
      displayName: "Duplicati"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "20"  # Deploy later as it's not critical
  duplicatiprometheusexporter:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "21"  # Deploy after Duplicati and Prometheus
  generic:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "25"
  githubarc:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "15"
  gotenberg:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "15"
  homeassistant:
    enabled: false
    homer:
      enabled: true
      group: "smartHome"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/home-assistant.svg"
      subtitle: "Home Automation Platform"
      displayName: "Home Assistant"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "15"  # Deploy after core infrastructure
  homematic:
    enabled: false
    homer:
      enabled: true
      group: "smartHome"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/homematic.svg"
      subtitle: "Smart Home System"
      displayName: "Homematic"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "16"  # Deploy after Home Assistant
  immich:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/immich.svg"
      subtitle: "Photo & Video Backup"
      displayName: "Immich"
    argocd:
      targetRevision: ~
      namespace: "app-immich"
      project: "default"
      syncWave: "18"  # Higher resource usage, deploy later
  immichold:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/immich.svg"
      subtitle: "Legacy Photo Manager"
      displayName: "Immich Old"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "19"  # Deploy after main Immich
  mosquitto:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "10"  # Deploy before IoT applications
  ollama:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "15"  # Higher resource usage, deploy later
  openwebui:
    enabled: false
    homer:
      enabled: true
      group: "ai"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/openwebui.svg"
      subtitle: "Web Interface for AI Models"
      displayName: "Open WebUI"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "16"  # Deploy after Ollama
  paperlessgpt:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "17"  # Deploy after AI components
  paperlessngx:
    enabled: false
    homer:
      enabled: true
      group: "productivity"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/paperless-ng.svg"
      subtitle: "Document Management System"
      displayName: "Paperless"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "16"  # Deploy after core services
  plex:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/plex.svg"
      subtitle: "Media Server"
      displayName: "Plex"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "20"  # Heavy resource usage, deploy later
  postgres:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "5"  # Deploy early as many services depend on it
  prometheus:
    enabled: false
    homer:
      enabled: true
      group: "infrastructure"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/prometheus.svg"
      subtitle: "Monitoring System"
      displayName: "Prometheus"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "2"  # Deploy early for monitoring other services
  prowlarr:
    enabled: false
    homer:
      enabled: true
      group: "starrs"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/prowlarr.svg"
      subtitle: "Indexer Manager/Proxy"
      displayName: "Prowlarr"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "12"  # Deploy before other *arr applications
  qbittorrent:
    enabled: false
    homer:
      enabled: true
      group: "downloads"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/qbittorrent.svg"
      subtitle: "BitTorrent Client"
      displayName: "qBittorrent"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "15"
  radarr:
    enabled: false
    homer:
      enabled: true
      group: "starrs"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/radarr.svg"
      subtitle: "Movie Collection Manager"
      displayName: "Radarr"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "14"  # Deploy after Prowlarr
  readarr:
    enabled: false
    homer:
      enabled: true
      group: "starrs"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/readarr.svg"
      subtitle: "Book Collection Manager"
      displayName: "Readarr"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "14"  # Deploy after Prowlarr
  redis:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "5"  # Deploy early as many services depend on it
  sabnzbd:
    enabled: false
    homer:
      enabled: true
      group: "downloads"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/sabnzbd.svg"
      subtitle: "Binary Newsreader"
      displayName: "SABnzbd"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "13"  # Deploy before dependent media apps
  search:
    enabled: false
    homer:
      enabled: true
      group: "productivity"
      logo: "https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/png/whoogle.png"
      subtitle: "Self-Hosted Search Engine"
      displayName: "Search"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "18"
  sftpgo:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/png/sftpgo.png"
      subtitle: "SFTP Server"
      displayName: "SFTPGo"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "10"
  smarthome3:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "17"  # Deploy after Home Assistant components
  sonarr:
    enabled: false
    homer:
      enabled: true
      group: "starrs"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/sonarr.svg"
      subtitle: "TV Show Collection Manager"
      displayName: "Sonarr"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "14"  # Deploy after Prowlarr
  tautulli:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/tautulli.svg"
      subtitle: "Plex Media Server Monitoring"
      displayName: "Tautulli"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "21"  # Deploy after Plex
  tgtg:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "20"
  tika:
    enabled: false
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "15"  # Deploy before document processing apps
  traefik:
    enabled: false
    homer:
      enabled: true
      group: "infrastructure"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/traefik.svg"
      subtitle: "Cloud Native Edge Router"
      displayName: "Traefik"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "1"  # Deploy early for ingress management
  vaultwarden:
    enabled: false
    homer:
      enabled: true
      group: "security"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/vaultwarden.svg"
      subtitle: "Password Manager"
      displayName: "Vaultwarden"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "10"
  zigbee2mqtt:
    enabled: false
    homer:
      enabled: true
      group: "smartHome"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/zigbee2mqtt.svg"
      subtitle: "Zigbee to MQTT Bridge"
      displayName: "Zigbee2MQTT"
    argocd:
      targetRevision: ~
      namespace: "argocd"
      project: "default"
      syncWave: "12"  # Deploy after MQTT broker