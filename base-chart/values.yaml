# Global settings applied to all applications
# All helm sub-charts can access this with {{ .Values.global.<key> }},
#  even if they are not in the same chart
global:
  # Common domain configuration
  domain: home-server.dev

  externalSecrets:
    refreshInterval: "1h"
    clusterSecretStoreRef:
      name: akeyless-secret-store

  # Authentication settings
  akeyless:
    path: /kind-homelab

  # Email settings for services
  email: Jonas@Hess.pm

  # DNS provider configuration
  cloudflare:
    email: Jonas@Hess.pm

  # Certificate management
  letsencrypt:
    email: Jonas@Hess.pm

  traefik:
    middlewareNamespace: argocd

  # Authentication provider
  traefik_forward_auth:
    oidc_client_id: 6e1bl5i55ao7bhhcufk85ussm
    oidc_issuer_url: https://cognito-idp.eu-central-1.amazonaws.com/eu-central-1_t9DQfKlSX

  argocd:
    targetRevision: ~ # main

    # Global ignore differences (applied to all apps unless overridden)
    ignoreDifferences:
      - group: ""
        kind: "Secret"
        jsonPointers:
          - "/data"


# All applications to be deployed by Argo CD
apps:
  homer:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Homer - Simple, static homepage for your server"
      namespace: "argocd"
      project: "default"
      syncWave: "10"  # Deploy after core services

    # Centralized group definitions
    groups:
      coreServices:
        name: "Core Systems"
        icon: "fas fa-server"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/server.svg"

      infrastructure:
        name: "Infrastructure"
        icon: "fas fa-network-wired"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/network.svg"

      monitoring:
        name: "Monitoring"
        icon: "fas fa-chart-line"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/grafana.svg"

      development:
        name: "Development"
        icon: "fas fa-code-branch"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/github.svg"

      security:
        name: "Security & Networks"
        icon: "fas fa-shield-alt"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/security.svg"

      smartHome:
        name: "Smart Home"
        icon: "fas fa-home"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/home-assistant.svg"

      media:
        name: "Media & Entertainment"
        icon: "fas fa-photo-video"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/plex.svg"

      maintenance:
        name: "Maintenance"
        icon: "fas fa-hdd"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/duplicati.svg"

      productivity:
        name: "Productivity"
        icon: "fas fa-file-alt"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/paperless-ng.svg"

      ai:
        name: "AI & ML"
        icon: "fas fa-comments"
        logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/ollama.svg"


  # Application Definitions
  stirlingpdf:
    enabled: false
    homer:
      enabled: true
      group: "productivity"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/stirlingpdf.svg"
      subtitle: "Your PDF Swiss Army Knife"
    argocd:
      targetRevision: ~
      description: "StirlingPDF - PDF Processing and Management"
      namespace: "argocd"
      project: "default"
      syncWave: "10"  # Deploy after monitoring is available
  adguard:
    enabled: false
    homer:
      enabled: true
      group: "security"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/adguard-home.svg"
      subtitle: "Network-wide Ad Blocker"
    argocd:
      targetRevision: ~
      description: "AdGuard - Network-wide Ad and Tracking Blocker"
      namespace: "argocd"
      project: "default"
      syncWave: "15"  # Deploy after core services
  akeyless:
    enabled: false
    homer:
      enabled: true
      url: "https://console.akeyless.io/"
      group: "security"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/key.svg"
      subtitle: "Secrets Management Platform"
    argocd:
      targetRevision: ~
      description: "Akeyless - Secrets Management Platform"
      namespace: "argocd"
      project: "default"
      syncWave: "5"  # Early deployment for secrets access
  argocd:
    enabled: true
    homer:
      enabled: true
      group: "coreServices"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/argo-cd.svg"
      subtitle: "GitOps Continuous Delivery"
    argocd:
      targetRevision: ~
      description: "Argo CD - Declarative GitOps Continuous Delivery"
      namespace: "argocd"
      project: "default"
      syncWave: "0"  # Deploy first as it manages other deployments
  argoimageupdater:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Argo Image Updater - Automated Image Updates for Argo CD Applications"
      namespace: "argocd"
      project: "default"
      syncWave: "1"  # Deploy right after ArgoCD
  asn:
    enabled: false
    argocd:
      targetRevision: ~
      description: "ASN - Autonomous System Number Lookup and Management"
      namespace: "argocd"
      project: "default"
      syncWave: "20"
  aws:
    enabled: false
    argocd:
      targetRevision: ~
      description: "AWS Tools - Amazon Web Services Integration Components"
      namespace: "argocd"
      project: "default"
      syncWave: "5"  # Early deployment for cloud infrastructure
  cloudflareddns:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Cloudflared DNS - Cloudflare DNS Tunneling and Management"
      namespace: "argocd"
      project: "default"
      syncWave: "3"  # Early deployment for DNS services
  cnpg:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Cloud Native PostgreSQL - Kubernetes Operator for PostgreSQL"
      namespace: "argocd"
      project: "default"
      syncWave: "4"  # Deploy before apps that need PostgreSQL
  drone:
    enabled: false
    homer:
      enabled: true
      group: "development"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/drone.svg"
      subtitle: "Continuous Integration Platform"
    argocd:
      targetRevision: ~
      description: "Drone CI - Continuous Integration Platform"
      namespace: "argocd"
      project: "default"
      syncWave: "8"  # Deploy after core services
  duplicati:
    enabled: false
    homer:
      enabled: true
      group: "maintenance"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/duplicati.svg"
      subtitle: "Backup Software"
    argocd:
      targetRevision: ~
      description: "Duplicati - Backup Software for File, Database and Web Data"
      namespace: "argocd"
      project: "default"
      syncWave: "20"  # Deploy later as it's not critical
  duplicatiprometheusexporter:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Duplicati Prometheus Exporter - Metrics Collection for Duplicati"
      namespace: "argocd"
      project: "default"
      syncWave: "21"  # Deploy after Duplicati and Prometheus
  generic:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Generic - Template for Generic Applications"
      namespace: "argocd"
      project: "default"
      syncWave: "25"
  githubarc:
    enabled: false
    argocd:
      targetRevision: ~
      description: "GitHub Arc - GitHub Runner and Integration Services"
      namespace: "argocd"
      project: "default"
      syncWave: "15"
  gotenberg:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Gotenberg - API-driven PDF Engine"
      namespace: "argocd"
      project: "default"
      syncWave: "15"
  homeassistant:
    enabled: false
    homer:
      enabled: true
      group: "smartHome"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/home-assistant.svg"
      subtitle: "Home Automation Platform"
    argocd:
      targetRevision: ~
      description: "Home Assistant - Open Source Home Automation Platform"
      namespace: "argocd"
      project: "default"
      syncWave: "15"  # Deploy after core infrastructure
  homematic:
    enabled: false
    homer:
      enabled: true
      group: "smartHome"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/homematic.svg"
      subtitle: "Smart Home System"
    argocd:
      targetRevision: ~
      description: "Homematic - Smart Home System Integration"
      namespace: "argocd"
      project: "default"
      syncWave: "16"  # Deploy after Home Assistant
  immich:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/immich.svg"
      subtitle: "Photo & Video Backup"
    argocd:
      targetRevision: ~
      description: "Immich - Self-Hosted Photo and Video Backup Solution"
      namespace: "app-immich"
      project: "default"
      syncWave: "18"  # Higher resource usage, deploy later
  immichold:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/immich.svg"
      subtitle: "Legacy Photo Manager"
    argocd:
      targetRevision: ~
      description: "Immich Old - Legacy Version of Immich Photo Manager"
      namespace: "argocd"
      project: "default"
      syncWave: "19"  # Deploy after main Immich
  mosquitto:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Mosquitto - Lightweight MQTT Broker"
      namespace: "argocd"
      project: "default"
      syncWave: "10"  # Deploy before IoT applications
  ollama:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Ollama - Run Large Language Models Locally"
      namespace: "argocd"
      project: "default"
      syncWave: "15"  # Higher resource usage, deploy later
  openwebui:
    enabled: false
    homer:
      enabled: true
      group: "ai"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/openwebui.svg"
      subtitle: "Web Interface for AI Models"
    argocd:
      targetRevision: ~
      description: "Open WebUI - Web Interface for AI Models"
      namespace: "argocd"
      project: "default"
      syncWave: "16"  # Deploy after Ollama
  paperlessgpt:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Paperless-GPT - AI-Enhanced Document Management"
      namespace: "argocd"
      project: "default"
      syncWave: "17"  # Deploy after AI components
  paperlessngx:
    enabled: false
    homer:
      enabled: true
      group: "productivity"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/paperless-ng.svg"
      subtitle: "Document Management System"
    argocd:
      targetRevision: ~
      description: "Paperless-ngx - Document Management System"
      namespace: "argocd"
      project: "default"
      syncWave: "16"  # Deploy after core services
  plex:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/plex.svg"
      subtitle: "Media Server"
    argocd:
      targetRevision: ~
      description: "Plex - Media Server for Movies, TV, Music and Photos"
      namespace: "argocd"
      project: "default"
      syncWave: "20"  # Heavy resource usage, deploy later
  postgres:
    enabled: false
    argocd:
      targetRevision: ~
      description: "PostgreSQL - Advanced Open Source Database"
      namespace: "argocd"
      project: "default"
      syncWave: "5"  # Deploy early as many services depend on it
  prometheus:
    enabled: false
    homer:
      enabled: true
      group: "monitoring"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/prometheus.svg"
      subtitle: "Monitoring System"
    argocd:
      targetRevision: ~
      description: "Prometheus - Monitoring System and Time Series Database"
      namespace: "argocd"
      project: "default"
      syncWave: "2"  # Deploy early for monitoring other services
  prowlarr:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/prowlarr.svg"
      subtitle: "Indexer Manager/Proxy"
    argocd:
      targetRevision: ~
      description: "Prowlarr - Indexer Manager/Proxy for *arr Suite"
      namespace: "argocd"
      project: "default"
      syncWave: "12"  # Deploy before other *arr applications
  qbittorrent:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/qbittorrent.svg"
      subtitle: "BitTorrent Client"
    argocd:
      targetRevision: ~
      description: "qBittorrent - BitTorrent Client"
      namespace: "argocd"
      project: "default"
      syncWave: "15"
  radarr:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/radarr.svg"
      subtitle: "Movie Collection Manager"
    argocd:
      targetRevision: ~
      description: "Radarr - Movie Collection Manager"
      namespace: "argocd"
      project: "default"
      syncWave: "14"  # Deploy after Prowlarr
  readarr:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/readarr.svg"
      subtitle: "Book Collection Manager"
    argocd:
      targetRevision: ~
      description: "Readarr - Book Collection Manager"
      namespace: "argocd"
      project: "default"
      syncWave: "14"  # Deploy after Prowlarr
  redis:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Redis - In-Memory Data Structure Store"
      namespace: "argocd"
      project: "default"
      syncWave: "5"  # Deploy early as many services depend on it
  sabnzbd:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/sabnzbd.svg"
      subtitle: "Binary Newsreader"
    argocd:
      targetRevision: ~
      description: "SABnzbd - Binary Newsreader"
      namespace: "argocd"
      project: "default"
      syncWave: "13"  # Deploy before dependent media apps
  search:
    enabled: false
    homer:
      enabled: true
      group: "productivity"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/search.svg"
      subtitle: "Self-Hosted Search Engine"
    argocd:
      targetRevision: ~
      description: "Search - Self-Hosted Search Engine"
      namespace: "argocd"
      project: "default"
      syncWave: "18"
  sftpgo:
    enabled: false
    homer:
      enabled: true
      group: "security"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/sftpgo.svg"
      subtitle: "SFTP Server"
    argocd:
      targetRevision: ~
      description: "SFTPGo - Fully Featured SFTP Server"
      namespace: "argocd"
      project: "default"
      syncWave: "10"
  smarthome3:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Smart Home 3 - Smart Home Integration Suite"
      namespace: "argocd"
      project: "default"
      syncWave: "17"  # Deploy after Home Assistant components
  sonarr:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/sonarr.svg"
      subtitle: "TV Show Collection Manager"
    argocd:
      targetRevision: ~
      description: "Sonarr - TV Show Collection Manager"
      namespace: "argocd"
      project: "default"
      syncWave: "14"  # Deploy after Prowlarr
  tautulli:
    enabled: false
    homer:
      enabled: true
      group: "media"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/tautulli.svg"
      subtitle: "Plex Media Server Monitoring"
    argocd:
      targetRevision: ~
      description: "Tautulli - Plex Media Server Monitoring"
      namespace: "argocd"
      project: "default"
      syncWave: "21"  # Deploy after Plex
  tgtg:
    enabled: false
    argocd:
      targetRevision: ~
      description: "TGTG - Too Good To Go Integration"
      namespace: "argocd"
      project: "default"
      syncWave: "20"
  tika:
    enabled: false
    argocd:
      targetRevision: ~
      description: "Apache Tika - Content Analysis and Extraction Toolkit"
      namespace: "argocd"
      project: "default"
      syncWave: "15"  # Deploy before document processing apps
  traefik:
    enabled: false
    homer:
      enabled: true
      group: "infrastructure"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/traefik.svg"
      subtitle: "Cloud Native Edge Router"
    argocd:
      targetRevision: ~
      description: "Traefik - Cloud Native Edge Router"
      namespace: "argocd"
      project: "default"
      syncWave: "1"  # Deploy early for ingress management
  vaultwarden:
    enabled: false
    homer:
      enabled: true
      group: "security"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/vaultwarden.svg"
      subtitle: "Password Manager"
    argocd:
      targetRevision: ~
      description: "Vaultwarden - Unofficial Bitwarden Compatible Server"
      namespace: "argocd"
      project: "default"
      syncWave: "10"
  zigbee2mqtt:
    enabled: false
    homer:
      enabled: true
      group: "smartHome"
      logo: "https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/zigbee2mqtt.svg"
      subtitle: "Zigbee to MQTT Bridge"
    argocd:
      targetRevision: ~
      description: "Zigbee2MQTT - Zigbee to MQTT Bridge"
      namespace: "argocd"
      project: "default"
      syncWave: "12"  # Deploy after MQTT broker