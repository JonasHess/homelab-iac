---
# Source: homelab-base-chart/templates/prometheus/grafana-dashboard-config-map.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: custom-dashboards
  namespace: argocd
  labels:
    grafana_dashboard: "1"
data:
  duplicati_dashboard.json: |-
    
    {
    	"annotations": {
    		"list": [
    			{
    				"builtIn": 1,
    				"datasource": {
    					"type": "grafana",
    					"uid": "-- Grafana --"
    				},
    				"enable": true,
    				"hide": true,
    				"iconColor": "rgba(0, 211, 255, 1)",
    				"name": "Annotations & Alerts",
    				"type": "dashboard"
    			}
    		]
    	},
    	"editable": true,
    	"fiscalYearStartMonth": 0,
    	"graphTooltip": 0,
    	"id": null,
    	"links": [],
    	"liveNow": false,
    	"panels": [
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "prometheus"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "palette-classic"
    					},
    					"custom": {
    						"axisBorderShow": false,
    						"axisCenteredZero": false,
    						"axisColorMode": "text",
    						"axisLabel": "",
    						"axisPlacement": "auto",
    						"barAlignment": 0,
    						"barWidthFactor": 0.6,
    						"drawStyle": "line",
    						"fillOpacity": 0,
    						"gradientMode": "none",
    						"hideFrom": {
    							"legend": false,
    							"tooltip": false,
    							"viz": false
    						},
    						"insertNulls": false,
    						"lineInterpolation": "linear",
    						"lineWidth": 1,
    						"pointSize": 5,
    						"scaleDistribution": {
    							"type": "linear"
    						},
    						"showPoints": "auto",
    						"spanNulls": false,
    						"stacking": {
    							"group": "A",
    							"mode": "none"
    						},
    						"thresholdsStyle": {
    							"mode": "off"
    						}
    					},
    					"mappings": [],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "red",
    								"value": 80
    							}
    						]
    					},
    					"unit": "bytes"
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 8,
    				"w": 12,
    				"x": 0,
    				"y": 0
    			},
    			"id": 13,
    			"interval": "1m",
    			"options": {
    				"legend": {
    					"calcs": [],
    					"displayMode": "list",
    					"placement": "bottom",
    					"showLegend": true
    				},
    				"tooltip": {
    					"mode": "single",
    					"sort": "none"
    				}
    			},
    			"pluginVersion": "11.4.0",
    			"targets": [
    				{
    					"editorMode": "code",
    					"expr": "duplicati_known_file_size{backup_name=\"$backup_name\", operation_name=\"$operation\"}",
    					"legendFormat": "current size of backup versions",
    					"range": true,
    					"refId": "A"
    				},
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "prometheus"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_size_of_examined_files{backup_name=\"$backup_name\", operation_name=\"$operation\"}",
    					"hide": false,
    					"instant": false,
    					"legendFormat": "size of source data",
    					"range": true,
    					"refId": "B"
    				}
    			],
    			"title": "File sizes",
    			"type": "timeseries"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "prometheus"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "thresholds"
    					},
    					"custom": {
    						"fillOpacity": 70,
    						"hideFrom": {
    							"legend": false,
    							"tooltip": false,
    							"viz": false
    						},
    						"lineWidth": 1
    					},
    					"mappings": [
    						{
    							"options": {
    								"0": {
    									"color": "dark-green",
    									"index": 0,
    									"text": "Success"
    								},
    								"1": {
    									"color": "dark-yellow",
    									"index": 1,
    									"text": "Warning"
    								},
    								"2": {
    									"color": "dark-red",
    									"index": 2,
    									"text": "Fail"
    								}
    							},
    							"type": "value"
    						}
    					],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							}
    						]
    					}
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 8,
    				"w": 12,
    				"x": 0,
    				"y": 0
    			},
    			"id": 12,
    			"interval": "1h",
    			"options": {
    				"colWidth": 0.9,
    				"legend": {
    					"displayMode": "list",
    					"placement": "bottom",
    					"showLegend": true
    				},
    				"rowHeight": 0.9,
    				"showValue": "auto",
    				"tooltip": {
    					"mode": "none",
    					"sort": "none"
    				}
    			},
    			"pluginVersion": "11.4.0",
    			"targets": [
    				{
    					"editorMode": "code",
    					"expr": "duplicati_ops_result{backup_name=\"$backup_name\", operation_name=\"$operation\"}",
    					"interval": "",
    					"legendFormat": " ",
    					"range": true,
    					"refId": "A"
    				}
    			],
    			"title": "Backup Success",
    			"type": "status-history"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "thresholds"
    					},
    					"mappings": [],
    					"max": 100,
    					"min": 0,
    					"noValue": "0",
    					"thresholds": {
    						"mode": "percentage",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "#EAB839",
    								"value": 80
    							},
    							{
    								"color": "red",
    								"value": 90
    							}
    						]
    					},
    					"unit": "percent"
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 4,
    				"w": 2,
    				"x": 0,
    				"y": 0
    			},
    			"id": 1,
    			"options": {
    				"minVizHeight": 75,
    				"minVizWidth": 75,
    				"orientation": "auto",
    				"reduceOptions": {
    					"calcs": [
    						"lastNotNull"
    					],
    					"fields": "",
    					"values": false
    				},
    				"showThresholdLabels": false,
    				"showThresholdMarkers": true,
    				"sizing": "auto"
    			},
    			"pluginVersion": "11.2.0",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"exemplar": false,
    					"expr": "topk(1, duplicati_free_quota_space{backup_name=\"$backup_name\", operation_name=\"$operation\"}) / topk(1, duplicati_total_quota_space{backup_name=\"$backup_name\", operation_name=\"$operation\"})  * 100",
    					"instant": false,
    					"legendFormat": "__auto",
    					"range": true,
    					"refId": "A"
    				}
    			],
    			"title": "Storage usage",
    			"type": "gauge"
    		},
    		{
    			"datasource": {
    				"default": false,
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "thresholds"
    					},
    					"mappings": [
    						{
    							"options": {
    								"0": {
    									"color": "green",
    									"index": 0,
    									"text": "Success"
    								},
    								"1": {
    									"color": "yellow",
    									"index": 1,
    									"text": "Warning"
    								},
    								"2": {
    									"color": "red",
    									"index": 2,
    									"text": "Fail"
    								}
    							},
    							"type": "value"
    						}
    					],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "red",
    								"value": 80
    							}
    						]
    					}
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 4,
    				"w": 2,
    				"x": 2,
    				"y": 0
    			},
    			"id": 11,
    			"options": {
    				"colorMode": "value",
    				"graphMode": "area",
    				"justifyMode": "auto",
    				"orientation": "auto",
    				"percentChangeColorMode": "standard",
    				"reduceOptions": {
    					"calcs": [
    						"lastNotNull"
    					],
    					"fields": "",
    					"values": false
    				},
    				"showPercentChange": false,
    				"textMode": "auto",
    				"wideLayout": true
    			},
    			"pluginVersion": "11.2.0",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"exemplar": false,
    					"expr": "topk(1, duplicati_ops_result{backup_name=\"$backup_name\", operation_name=\"$operation\"})",
    					"instant": true,
    					"legendFormat": "__auto",
    					"range": false,
    					"refId": "A"
    				}
    			],
    			"title": "Last Result",
    			"type": "stat"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "thresholds"
    					},
    					"mappings": [],
    					"noValue": "0",
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "red",
    								"value": null
    							}
    						]
    					}
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 4,
    				"w": 4,
    				"x": 4,
    				"y": 0
    			},
    			"id": 10,
    			"options": {
    				"colorMode": "value",
    				"graphMode": "area",
    				"justifyMode": "auto",
    				"orientation": "auto",
    				"percentChangeColorMode": "standard",
    				"reduceOptions": {
    					"calcs": [
    						"lastNotNull"
    					],
    					"fields": "",
    					"values": false
    				},
    				"showPercentChange": false,
    				"textMode": "auto",
    				"wideLayout": true
    			},
    			"pluginVersion": "11.2.0",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_backup_ops_total{backup_name=\"$backup_name\", result=\"Fail\", operation_name=\"$operation\"}",
    					"instant": false,
    					"legendFormat": "__auto",
    					"range": true,
    					"refId": "A"
    				}
    			],
    			"title": "Total $operation Failed [$backup_name]",
    			"type": "stat"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "thresholds"
    					},
    					"mappings": [],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "red",
    								"value": 80
    							}
    						]
    					}
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 4,
    				"w": 4,
    				"x": 8,
    				"y": 0
    			},
    			"id": 9,
    			"options": {
    				"colorMode": "value",
    				"graphMode": "area",
    				"justifyMode": "auto",
    				"orientation": "auto",
    				"percentChangeColorMode": "standard",
    				"reduceOptions": {
    					"calcs": [
    						"lastNotNull"
    					],
    					"fields": "",
    					"values": false
    				},
    				"showPercentChange": false,
    				"textMode": "auto",
    				"wideLayout": true
    			},
    			"pluginVersion": "11.2.0",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_backup_ops_total{backup_name=\"$backup_name\", operation_name=\"$operation\", result=\"Success\"}",
    					"instant": false,
    					"legendFormat": "__auto",
    					"range": true,
    					"refId": "A"
    				}
    			],
    			"title": "Total $operation Success [$backup_name]",
    			"type": "stat"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "palette-classic"
    					},
    					"custom": {
    						"axisBorderShow": false,
    						"axisCenteredZero": false,
    						"axisColorMode": "text",
    						"axisLabel": "",
    						"axisPlacement": "auto",
    						"barAlignment": 0,
    						"barWidthFactor": 0.6,
    						"drawStyle": "line",
    						"fillOpacity": 0,
    						"gradientMode": "none",
    						"hideFrom": {
    							"legend": false,
    							"tooltip": false,
    							"viz": false
    						},
    						"insertNulls": false,
    						"lineInterpolation": "linear",
    						"lineWidth": 1,
    						"pointSize": 5,
    						"scaleDistribution": {
    							"type": "linear"
    						},
    						"showPoints": "auto",
    						"spanNulls": false,
    						"stacking": {
    							"group": "A",
    							"mode": "none"
    						},
    						"thresholdsStyle": {
    							"mode": "off"
    						}
    					},
    					"mappings": [],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "red",
    								"value": 80
    							}
    						]
    					},
    					"unit": "bytes"
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 8,
    				"w": 12,
    				"x": 12,
    				"y": 0
    			},
    			"id": 4,
    			"options": {
    				"legend": {
    					"calcs": [],
    					"displayMode": "table",
    					"placement": "right",
    					"showLegend": true
    				},
    				"tooltip": {
    					"mode": "single",
    					"sort": "none"
    				}
    			},
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_bytes_uploaded{backup_name=\"$backup_name\", operation_name=\"$operation\"}",
    					"instant": false,
    					"legendFormat": "Bytes upload",
    					"range": true,
    					"refId": "A"
    				},
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_bytes_downloaded{backup_name=\"$backup_name\", operation_name=\"$operation\"}",
    					"hide": false,
    					"instant": false,
    					"legendFormat": "Bytes download",
    					"range": true,
    					"refId": "B"
    				}
    			],
    			"title": "$backup_name bytes I/O over time",
    			"type": "timeseries"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"description": "Backups and restore",
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "thresholds"
    					},
    					"mappings": [],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "red",
    								"value": 80
    							}
    						]
    					}
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 4,
    				"w": 4,
    				"x": 0,
    				"y": 4
    			},
    			"id": 8,
    			"options": {
    				"colorMode": "value",
    				"graphMode": "area",
    				"justifyMode": "auto",
    				"orientation": "auto",
    				"percentChangeColorMode": "standard",
    				"reduceOptions": {
    					"calcs": [
    						"lastNotNull"
    					],
    					"fields": "",
    					"values": false
    				},
    				"showPercentChange": false,
    				"textMode": "auto",
    				"wideLayout": true
    			},
    			"pluginVersion": "11.2.0",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "sum(duplicati_backup_ops_total{backup_name=\"$backup_name\", operation_name=\"Backup\"})\n+ sum(duplicati_backup_ops_total{backup_name=\"$backup_name\", operation_name=\"Restore\"} OR on() vector(0))",
    					"instant": false,
    					"legendFormat": "__auto",
    					"range": true,
    					"refId": "A"
    				}
    			],
    			"title": "[$backup_name] total operation",
    			"type": "stat"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "thresholds"
    					},
    					"mappings": [],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "red",
    								"value": 80
    							}
    						]
    					}
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 4,
    				"w": 4,
    				"x": 4,
    				"y": 4
    			},
    			"id": 3,
    			"options": {
    				"colorMode": "value",
    				"graphMode": "area",
    				"justifyMode": "auto",
    				"orientation": "auto",
    				"percentChangeColorMode": "standard",
    				"reduceOptions": {
    					"calcs": [
    						"lastNotNull"
    					],
    					"fields": "",
    					"values": false
    				},
    				"showPercentChange": false,
    				"textMode": "auto",
    				"wideLayout": true
    			},
    			"pluginVersion": "11.2.0",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_backup_list_count{backup_name=\"$backup_name\", operation_name=\"Backup\"}",
    					"instant": false,
    					"legendFormat": "__auto",
    					"range": true,
    					"refId": "A"
    				}
    			],
    			"title": "[$backup_name] versions",
    			"type": "stat"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "thresholds"
    					},
    					"mappings": [],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							}
    						]
    					},
    					"unit": "s"
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 4,
    				"w": 4,
    				"x": 8,
    				"y": 4
    			},
    			"id": 2,
    			"options": {
    				"colorMode": "value",
    				"graphMode": "area",
    				"justifyMode": "auto",
    				"orientation": "auto",
    				"percentChangeColorMode": "standard",
    				"reduceOptions": {
    					"calcs": [
    						"lastNotNull"
    					],
    					"fields": "",
    					"values": false
    				},
    				"showPercentChange": false,
    				"textMode": "auto",
    				"wideLayout": true
    			},
    			"pluginVersion": "11.2.0",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "topk(1, duplicati_duration{backup_name=\"$backup_name\", operation_name=\"$operation\"})",
    					"instant": false,
    					"legendFormat": "Duration",
    					"range": true,
    					"refId": "A"
    				}
    			],
    			"title": "$operation duration [$backup_name]",
    			"type": "stat"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "palette-classic"
    					},
    					"custom": {
    						"axisBorderShow": false,
    						"axisCenteredZero": false,
    						"axisColorMode": "text",
    						"axisLabel": "",
    						"axisPlacement": "auto",
    						"barAlignment": 0,
    						"barWidthFactor": 0.6,
    						"drawStyle": "line",
    						"fillOpacity": 0,
    						"gradientMode": "none",
    						"hideFrom": {
    							"legend": false,
    							"tooltip": false,
    							"viz": false
    						},
    						"insertNulls": false,
    						"lineInterpolation": "linear",
    						"lineWidth": 1,
    						"pointSize": 5,
    						"scaleDistribution": {
    							"type": "linear"
    						},
    						"showPoints": "auto",
    						"spanNulls": false,
    						"stacking": {
    							"group": "A",
    							"mode": "none"
    						},
    						"thresholdsStyle": {
    							"mode": "off"
    						}
    					},
    					"mappings": [],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "red",
    								"value": 80
    							}
    						]
    					}
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 6,
    				"w": 12,
    				"x": 0,
    				"y": 8
    			},
    			"id": 7,
    			"options": {
    				"legend": {
    					"calcs": [],
    					"displayMode": "table",
    					"placement": "right",
    					"showLegend": true
    				},
    				"tooltip": {
    					"mode": "single",
    					"sort": "none"
    				}
    			},
    			"pluginVersion": "10.4.3",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_folders_created{backup_name=\"$backup_name\", operation_name=\"$operation\"}",
    					"instant": false,
    					"legendFormat": "Folders Created",
    					"range": true,
    					"refId": "A"
    				}
    			],
    			"title": "$backup_name folders created over time",
    			"type": "timeseries"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "palette-classic"
    					},
    					"custom": {
    						"axisBorderShow": false,
    						"axisCenteredZero": false,
    						"axisColorMode": "text",
    						"axisLabel": "",
    						"axisPlacement": "auto",
    						"barAlignment": 0,
    						"barWidthFactor": 0.6,
    						"drawStyle": "line",
    						"fillOpacity": 0,
    						"gradientMode": "none",
    						"hideFrom": {
    							"legend": false,
    							"tooltip": false,
    							"viz": false
    						},
    						"insertNulls": false,
    						"lineInterpolation": "linear",
    						"lineWidth": 1,
    						"pointSize": 5,
    						"scaleDistribution": {
    							"type": "linear"
    						},
    						"showPoints": "auto",
    						"spanNulls": false,
    						"stacking": {
    							"group": "A",
    							"mode": "none"
    						},
    						"thresholdsStyle": {
    							"mode": "off"
    						}
    					},
    					"mappings": [],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "red",
    								"value": 80
    							}
    						]
    					}
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 6,
    				"w": 12,
    				"x": 12,
    				"y": 8
    			},
    			"id": 6,
    			"options": {
    				"legend": {
    					"calcs": [],
    					"displayMode": "table",
    					"placement": "right",
    					"showLegend": true
    				},
    				"tooltip": {
    					"mode": "single",
    					"sort": "none"
    				}
    			},
    			"pluginVersion": "10.4.3",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_files_deleted{backup_name=\"$backup_name\", operation_name=\"$operation\"}",
    					"instant": false,
    					"legendFormat": "Files deleted",
    					"range": true,
    					"refId": "A"
    				}
    			],
    			"title": "$backup_name files deleted over time",
    			"type": "timeseries"
    		},
    		{
    			"datasource": {
    				"type": "prometheus",
    				"uid": "${datasource}"
    			},
    			"fieldConfig": {
    				"defaults": {
    					"color": {
    						"mode": "palette-classic"
    					},
    					"custom": {
    						"axisBorderShow": false,
    						"axisCenteredZero": false,
    						"axisColorMode": "text",
    						"axisLabel": "",
    						"axisPlacement": "auto",
    						"barAlignment": 0,
    						"barWidthFactor": 0.6,
    						"drawStyle": "line",
    						"fillOpacity": 0,
    						"gradientMode": "none",
    						"hideFrom": {
    							"legend": false,
    							"tooltip": false,
    							"viz": false
    						},
    						"insertNulls": false,
    						"lineInterpolation": "linear",
    						"lineWidth": 1,
    						"pointSize": 5,
    						"scaleDistribution": {
    							"type": "linear"
    						},
    						"showPoints": "auto",
    						"spanNulls": false,
    						"stacking": {
    							"group": "A",
    							"mode": "none"
    						},
    						"thresholdsStyle": {
    							"mode": "off"
    						}
    					},
    					"mappings": [],
    					"thresholds": {
    						"mode": "absolute",
    						"steps": [
    							{
    								"color": "green",
    								"value": null
    							},
    							{
    								"color": "red",
    								"value": 80
    							}
    						]
    					}
    				},
    				"overrides": []
    			},
    			"gridPos": {
    				"h": 7,
    				"w": 24,
    				"x": 0,
    				"y": 14
    			},
    			"id": 5,
    			"options": {
    				"legend": {
    					"calcs": [],
    					"displayMode": "table",
    					"placement": "right",
    					"showLegend": true
    				},
    				"tooltip": {
    					"mode": "single",
    					"sort": "none"
    				}
    			},
    			"pluginVersion": "10.4.3",
    			"targets": [
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_files_uploaded{backup_name=\"$backup_name\", operation_name=\"$operation\"}",
    					"instant": false,
    					"legendFormat": "Files upload",
    					"range": true,
    					"refId": "A"
    				},
    				{
    					"datasource": {
    						"type": "prometheus",
    						"uid": "${datasource}"
    					},
    					"editorMode": "code",
    					"expr": "duplicati_files_downloaded{backup_name=\"$backup_name\", operation_name=\"$operation\"}",
    					"hide": false,
    					"instant": false,
    					"legendFormat": "Files download",
    					"range": true,
    					"refId": "B"
    				}
    			],
    			"title": "$backup_name files upload over time",
    			"type": "timeseries"
    		}
    	],
    	"refresh": "1m",
    	"schemaVersion": 39,
    	"tags": [
    		"Backup",
    		"Duplicati"
    	],
    	"templating": {
    		"list": [
    			{
    				"current": {
    					"selected": false,
    					"text": "test-duplicati",
    					"value": "test-duplicati"
    				},
    				"datasource": {
    					"type": "prometheus",
    					"uid": "${datasource}"
    				},
    				"definition": "label_values(backup_name)",
    				"hide": 0,
    				"includeAll": false,
    				"multi": false,
    				"name": "backup_name",
    				"options": [],
    				"query": {
    					"query": "label_values(backup_name)",
    					"refId": "PrometheusVariableQueryEditor-VariableQuery"
    				},
    				"refresh": 1,
    				"regex": "",
    				"skipUrlSync": false,
    				"sort": 0,
    				"type": "query"
    			},
    			{
    				"current": {
    					"selected": true,
    					"text": "Backup",
    					"value": "Backup"
    				},
    				"datasource": {
    					"type": "prometheus",
    					"uid": "${datasource}"
    				},
    				"definition": "label_values(operation_name)",
    				"hide": 0,
    				"includeAll": false,
    				"label": "operation",
    				"multi": false,
    				"name": "operation",
    				"options": [],
    				"query": {
    					"query": "label_values(operation_name)",
    					"refId": "PrometheusVariableQueryEditor-VariableQuery"
    				},
    				"refresh": 1,
    				"regex": "",
    				"skipUrlSync": false,
    				"sort": 0,
    				"type": "query"
    			},
    			{
    				"current": {
    					"selected": false,
    					"text": "prometheus",
    					"value": "ddyar1y1798u8a"
    				},
    				"hide": 0,
    				"includeAll": false,
    				"label": "datasource",
    				"multi": false,
    				"name": "datasource",
    				"options": [],
    				"query": "prometheus",
    				"queryValue": "",
    				"refresh": 1,
    				"regex": "",
    				"skipUrlSync": false,
    				"type": "datasource"
    			}
    		]
    	},
    	"time": {
    		"from": "now-30m",
    		"to": "now"
    	},
    	"timepicker": {},
    	"timezone": "browser",
    	"title": "Duplicati Backup Dashboard",
    	"version": 2,
    	"uid": "ee7fdlyarp9mod",
    	"weekStart": ""
    }
  zfs_dashboard.json: |-
    
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": {
              "type": "datasource",
              "uid": "grafana"
            },
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
          }
        ]
      },
      "description": "ZFS metrics as extracted by node_exporter",
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "id": 2,
      "links": [
        {
          "asDropdown": true,
          "icon": "external link",
          "tags": [
            "OS"
          ],
          "title": "OS",
          "type": "dashboards"
        }
      ],
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "ONLINE"
                    },
                    "1": {
                      "color": "dark-red",
                      "index": 1,
                      "text": "DEGRADED"
                    },
                    "2": {
                      "color": "dark-red",
                      "index": 2,
                      "text": "FAULTED"
                    },
                    "3": {
                      "color": "dark-red",
                      "index": 3,
                      "text": "OFFLINE"
                    },
                    "4": {
                      "color": "dark-red",
                      "index": 4,
                      "text": "UNAVAILABLE"
                    },
                    "5": {
                      "color": "dark-red",
                      "index": 5,
                      "text": "REMOVED"
                    },
                    "6": {
                      "color": "dark-red",
                      "index": 6,
                      "text": "SUSPENDED"
                    }
                  },
                  "type": "value"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 52,
          "interval": "5m",
          "options": {
            "colWidth": 0.9,
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.4.0",
          "targets": [
            {
              "editorMode": "code",
              "expr": "zfs_pool_health",
              "legendFormat": "{{pool}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "zfs_pool_health",
          "type": "status-history"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 10,
            "x": 0,
            "y": 9
          },
          "id": 53,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.4.0",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "zfs_pool_free_bytes",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "zfs_dataset_available_bytes",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "zfs_pool_size_bytes",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "C",
              "useBackend": false
            }
          ],
          "title": "Panel Title",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 14,
            "x": 10,
            "y": 9
          },
          "id": 54,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.4.0",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "zfs_dataset_used_bytes",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{name}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Panel Title",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "binBps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 19
          },
          "id": 55,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.4.0",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "node_zfs_zpool_dataset_writes",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Panel Title",
          "type": "timeseries"
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 27
          },
          "id": 48,
          "panels": [],
          "title": "Overview",
          "type": "row"
        },
        {
          "datasource": {
            "uid": "$Prometheus_server"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "rgb(31, 120, 193)",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "rgba(237, 129, 40, 0.89)",
                    "value": 60
                  },
                  {
                    "color": "#d44a3a",
                    "value": 80
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 5,
            "x": 0,
            "y": 28
          },
          "id": 50,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.4.0",
          "targets": [
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "expr": "node_zfs_arc_c{instance=~\"$Host\"} / node_zfs_arc_c_max{instance=~\"$Host\"} * 100",
              "format": "time_series",
              "instant": false,
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "Arc Percentage",
          "type": "stat"
        },
        {
          "datasource": {
            "uid": "$Prometheus_server"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "rgb(31, 120, 193)",
                "mode": "fixed"
              },
              "decimals": 2,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "max": 6442450944,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "rgba(237, 129, 40, 0.89)",
                    "value": 3221225472
                  },
                  {
                    "color": "#d44a3a",
                    "value": 6442450944
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 5,
            "x": 5,
            "y": 28
          },
          "id": 51,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "none",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.4.0",
          "targets": [
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "expr": "node_zfs_arc_c{instance=~\"$Host\"}",
              "format": "time_series",
              "instant": false,
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "Arc Value",
          "type": "stat"
        },
        {
          "collapsed": true,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 36
          },
          "id": 46,
          "panels": [
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 11
              },
              "id": 32,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_delay{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "delay",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_dirty_delay{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "dirty_delay",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_dirty_over_max{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "dirty_over_max",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_dirty_throttle{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "dirty_throttle",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_error{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "error",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_group{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "group",
                  "refId": "G",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_memory_reclaim{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "memory_reclaim",
                  "refId": "H",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_memory_reserve{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "memory_reserve",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_quota{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "quota",
                  "refId": "J",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_dmu_tx_dmu_tx_suspended{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "suspended",
                  "refId": "K",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "dmu_tx_dmu_tx - 1",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 18
              },
              "id": 33,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_dmu_tx_dmu_tx_assigned{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "assigned",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "dmu_tx_dmu_tx - 2",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 25
              },
              "id": 34,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_fm_erpt_dropped{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "erpt_dropped",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_fm_erpt_set_failed{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "erpt_set_failed",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_fm_fmri_set_failed{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "fmri_set_failed",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_fm_payload_set_failed{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "payload_set_failed",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "fm",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 32
              },
              "id": 35,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_vdev_cache_delegations{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "cache_delegations",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_vdev_cache_hits{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "cache_hits",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_vdev_cache_misses{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "cache_misses",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "vdev",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 39
              },
              "id": 37,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_xuio_onloan_read_buf{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "onloan_read_buf",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_xuio_onloan_write_buf{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "onloan_write_buf",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_xuio_read_buf_copied{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "read_buf_copied",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_xuio_read_buf_nocopy{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "read_buf_nocopy",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_xuio_write_buf_copied{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "write_buf_copied",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_xuio_write_buf_nocopy{instance=\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "write_buf_nocopy",
                  "refId": "G",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "xuio",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 46
              },
              "id": 38,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zfetch_hits{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "hits",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zfetch_misses{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "misses",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zfetch_max_streams{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "max_streams",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "zfetch",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 53
              },
              "id": 39,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_copied_bytes{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_copied_bytes",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_indirect_bytes{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_indirect_bytes",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_metaslab_normal_bytes{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_metaslab_normal_bytes",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_metaslab_slog_bytes{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_metaslab_slog_bytes",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_needcopy_bytes{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_needcopy_bytes",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "zil - bytes",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 60
              },
              "id": 40,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_commit_count{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "commit_count",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_commit_writer_count{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "commit_writer_count",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_copied_count{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_copied_count",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_count{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_count",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_indirect_count{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_indirect_count",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_metaslab_normal_count{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_metaslab_normal_count",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_metaslab_slog_count{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_metaslab_slog_count",
                  "refId": "G",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zil_zil_itx_needcopy_count{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "itx_needcopy_count",
                  "refId": "H",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "zil - count",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 67
              },
              "id": 41,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zpool_rcnt{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "{{zpool}} - rcnt",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zpool_reads{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "{{zpool}} - reads",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zpool_wcnt{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "{{zpool}} - wcnt",
                  "refId": "H",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zpool_writes{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "{{zpool}} - writes",
                  "refId": "J",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "ZPOOL",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "ns"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 74
              },
              "id": 42,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zpool_rlentime{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "{{zpool}} - rlentime",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zpool_rupdate{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "{{zpool}} - rupdate",
                  "refId": "G",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zpool_wlentime{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "{{zpool}} - wlentime",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zpool_wtime{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "{{zpool}} - wtime",
                  "refId": "K",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_zpool_wupdate{instance=\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "{{zpool}} - wupdate",
                  "refId": "L",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "ZPOOL - Time",
              "type": "timeseries"
            }
          ],
          "title": "Misc Stats",
          "type": "row"
        },
        {
          "collapsed": true,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 37
          },
          "id": 44,
          "panels": [
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 35,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "arc_min"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "#967302",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byRegexp",
                      "options": "/arc_max/"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "rgb(245, 235, 245)",
                          "mode": "fixed"
                        }
                      },
                      {
                        "id": "custom.fillOpacity",
                        "value": 0
                      },
                      {
                        "id": "custom.fillBelowTo",
                        "value": "arc_min"
                      },
                      {
                        "id": "custom.lineWidth",
                        "value": 0
                      },
                      {
                        "id": "custom.lineStyle",
                        "value": {
                          "dash": [
                            10,
                            10
                          ],
                          "fill": "dash"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "arc current"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "#70dbed",
                          "mode": "fixed"
                        }
                      },
                      {
                        "id": "custom.fillOpacity",
                        "value": 0
                      },
                      {
                        "id": "custom.lineWidth",
                        "value": 3
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "arc_min"
                    },
                    "properties": [
                      {
                        "id": "custom.lineWidth",
                        "value": 0
                      },
                      {
                        "id": "custom.lineStyle",
                        "value": {
                          "dash": [
                            10,
                            10
                          ],
                          "fill": "dash"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 10
              },
              "id": 7,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_c{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "arc current",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_c_max{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "arc_max",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_c_min{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "arc_min",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_c",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 17
              },
              "id": 31,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "arc_size",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_size",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 24
              },
              "id": 5,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_anon_evictable_data{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "evictable_data",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_anon_evictable_metadata{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "evictable_metadata",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_anon_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "size",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_anon",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 31
              },
              "id": 6,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_loaned_bytes{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "loaned_bytes",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_meta_limit{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "meta_limit",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_meta_max{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "meta_max",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_meta_min{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "meta_min",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_meta_used{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "meta_used",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_need_free{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "need_free",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_no_grow{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "no_grow",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_prune{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "prune",
                  "refId": "G",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_sys_free{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "sys_free",
                  "refId": "H",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_arc_tempreserve{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "tempreserve",
                  "refId": "J",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_arc",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 38
              },
              "id": 8,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_data_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "arc_data_size",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_data_size",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 45
              },
              "id": 9,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_deleted{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "arc_deleted",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_deleted",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byRegexp",
                      "options": "/percentage/"
                    },
                    "properties": [
                      {
                        "id": "custom.fillOpacity",
                        "value": 0
                      },
                      {
                        "id": "custom.lineWidth",
                        "value": 2
                      },
                      {
                        "id": "unit",
                        "value": "percent"
                      },
                      {
                        "id": "custom.axisPlacement",
                        "value": "right"
                      },
                      {
                        "id": "custom.lineStyle",
                        "value": {
                          "dash": [
                            10,
                            10
                          ],
                          "fill": "dash"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 52
              },
              "id": 10,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_demand_data_hits{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "data_hits",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_demand_data_misses{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "data_misses",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_demand_metadata_hits{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "metadata_hits",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_demand_metadata_misses{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "metadata_misses",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_demand_data_hits{instance=~\"$Host\"}[5m]) / (rate(node_zfs_arc_demand_data_hits{instance=~\"$Host\"}[5m]) + rate(node_zfs_arc_demand_data_misses{instance=~\"$Host\"}[5m])) * 100",
                  "format": "time_series",
                  "intervalFactor": 1,
                  "legendFormat": "data_hits percentage",
                  "refId": "D"
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_demand_metadata_hits{instance=~\"$Host\"}[5m]) / (rate(node_zfs_arc_demand_metadata_hits{instance=~\"$Host\"}[5m]) + rate(node_zfs_arc_demand_metadata_misses{instance=~\"$Host\"}[5m])) * 100",
                  "format": "time_series",
                  "intervalFactor": 1,
                  "legendFormat": "metadata_hits percentage",
                  "refId": "E"
                }
              ],
              "title": "arc_demand",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 59
              },
              "id": 12,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_evict_l2_cached{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "l2_cached",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_evict_l2_eligible{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "l2_eligible",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_evict_l2_ineligible{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "l2_ineligible",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_evict_l2_skip{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "l2_skip",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_evict_not_enough{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "not_enough",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_evict_skip{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "skip",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_evict",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 66
              },
              "id": 14,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_hash_chain_max{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "chain_max",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_hash_chains{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "chains",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_hash_elements{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "elements",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_hash_elements_max{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "elements_max",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_hash",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 73
              },
              "id": 13,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_hash_collisions{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "collisions",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_hash_collisions",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 80
              },
              "id": 15,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_hdr_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "hdr_size",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_hdr_size",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 87
              },
              "id": 16,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_hits{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "arc_hits",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_hits",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 94
              },
              "id": 17,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_abort_lowmem{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "abort_lowmem",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_asize{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "asize",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_cdata_free_on_write{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "cdata_free_on_write",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_cksum_bad{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "cksum_bad",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_compress_failure{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "compress_failure",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_compress_successes{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "compress_successes",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_compress_zeros{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "compress_zeros",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_l2 - 1",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 101
              },
              "id": 18,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_evict_l1cached{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "evict_l1cached",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_evict_lock_retry{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "evict_lock_retry",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_evict_reading{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "evict_reading",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_feeds{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "feeds",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_free_on_write{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "free_on_write",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_hdr_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "hdr_size",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_hits{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "hits",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_io_error{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "io_error",
                  "refId": "G",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_misses{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "misses",
                  "refId": "H",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_l2 - 2",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 108
              },
              "id": 19,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_read_bytes{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "read_bytes",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_rw_clash{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "rw_clash",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "size",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_write_bytes{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "write_bytes",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_writes_done{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "writes_done",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_writes_error{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "writes_error",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_writes_lock_retry{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "writes_lock_retry",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_l2_writes_sent{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "writes_sent",
                  "refId": "G",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_l2 - 3",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 115
              },
              "id": 20,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_memory_direct_count{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "direct_count",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_memory_indirect_count{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "indirect_count",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_memory_throttle_count{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "throttle_count",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_memory",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 122
              },
              "id": 21,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_metadata_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "arc_metadata_size",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_metadata_size",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 129
              },
              "id": 22,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mfu_evictable_data{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "evictable_data",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mfu_evictable_metadata{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "evictable_metadata",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mfu_ghost_evictable_data{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "ghost_evictable_data",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mfu_ghost_evictable_metadata{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "ghost_evictable_metadata",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mfu_ghost_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "ghost_size",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mfu_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "size",
                  "refId": "G",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_mfu",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 136
              },
              "id": 23,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_mfu_ghost_hits{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "ghost_hits",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_mfu_hits{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "hits",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_mfu -2",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 143
              },
              "id": 24,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_misses{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "ghost_hits",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_misses",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 150
              },
              "id": 25,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mru_evictable_data{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "evictable_data",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mru_evictable_metadata{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "evictable_metadata",
                  "refId": "I",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mru_ghost_evictable_data{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "ghost_evictable_data",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mru_ghost_evictable_metadata{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "ghost_evictable_metadata",
                  "refId": "C",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mru_ghost_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "ghost_size",
                  "refId": "E",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_mru_size{instance=~\"$Host\"}",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "size",
                  "refId": "G",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_mru - 1",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 157
              },
              "id": 26,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_mru_ghost_hits{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "ghost_hits",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_mru_hits{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "hits",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_mru -2",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 164
              },
              "id": 27,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_mutex_miss{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "arc_mutex_miss",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_mutex_miss",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 171
              },
              "id": 29,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "node_zfs_arc_p{instance=~\"$Host\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 2,
                  "legendFormat": "p",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                }
              ],
              "title": "arc_p",
              "type": "timeseries"
            },
            {
              "datasource": {
                "uid": "$Prometheus_server"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green"
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byRegexp",
                      "options": "/percentage/"
                    },
                    "properties": [
                      {
                        "id": "custom.fillOpacity",
                        "value": 0
                      },
                      {
                        "id": "custom.lineWidth",
                        "value": 2
                      },
                      {
                        "id": "unit",
                        "value": "percent"
                      },
                      {
                        "id": "custom.axisPlacement",
                        "value": "right"
                      },
                      {
                        "id": "custom.lineStyle",
                        "value": {
                          "dash": [
                            10,
                            10
                          ],
                          "fill": "dash"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 178
              },
              "id": 30,
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "lastNotNull",
                    "max",
                    "min"
                  ],
                  "displayMode": "table",
                  "placement": "right",
                  "showLegend": true,
                  "width": 400
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
                }
              },
              "pluginVersion": "11.4.0",
              "targets": [
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_prefetch_data_hits{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "data_hits",
                  "refId": "D",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_prefetch_data_misses{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "data_misses",
                  "refId": "F",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_prefetch_metadata_hits{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "metadata_hits",
                  "refId": "A",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_prefetch_metadata_misses{instance=~\"$Host\"}[5m])",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "metadata_misses",
                  "refId": "B",
                  "step": 2,
                  "target": ""
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_prefetch_data_hits{instance=~\"$Host\"}[5m]) / (rate(node_zfs_arc_prefetch_data_hits{instance=~\"$Host\"}[5m]) + rate(node_zfs_arc_prefetch_data_misses{instance=~\"$Host\"}[5m])) * 100",
                  "format": "time_series",
                  "intervalFactor": 1,
                  "legendFormat": "data_hits percentage",
                  "refId": "C"
                },
                {
                  "datasource": {
                    "uid": "$Prometheus_server"
                  },
                  "expr": "rate(node_zfs_arc_prefetch_metadata_hits{instance=~\"$Host\"}[5m]) / (rate(node_zfs_arc_prefetch_metadata_hits{instance=~\"$Host\"}[5m]) + rate(node_zfs_arc_prefetch_metadata_misses{instance=~\"$Host\"}[5m])) * 100",
                  "format": "time_series",
                  "intervalFactor": 1,
                  "legendFormat": "metadata_hits percentage",
                  "refId": "E"
                }
              ],
              "title": "arc_prefetch",
              "type": "timeseries"
            }
          ],
          "title": "Arc Stats",
          "type": "row"
        }
      ],
      "preload": false,
      "refresh": "1m",
      "schemaVersion": 40,
      "tags": [
        "OS",
        "ZFS",
        "Prometheus"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "text": "default",
              "value": "default"
            },
            "label": "Prometheus_server",
            "name": "Prometheus_server",
            "options": [],
            "query": "prometheus",
            "refresh": 1,
            "regex": "",
            "type": "datasource"
          },
          {
            "current": {
              "text": "192.168.0.20:9100",
              "value": "192.168.0.20:9100"
            },
            "datasource": "$Prometheus_server",
            "includeAll": false,
            "label": "Host",
            "name": "Host",
            "options": [],
            "query": "label_values(node_zfs_arc_c, instance)",
            "refresh": 1,
            "regex": "",
            "sort": 1,
            "type": "query"
          }
        ]
      },
      "time": {
        "from": "now-6h",
        "to": "now"
      },
      "timepicker": {},
      "timezone": "browser",
      "title": "Node - ZFS Stats",
      "uid": "i5y0zfoiz",
      "version": 2,
      "weekStart": ""
    }
---
# Source: homelab-base-chart/templates/_generic/pv.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: "prometheus-prometheus-pv"
  namespace: argocd
  labels:
    app: "prometheus-prometheus"
  annotations:
    argocd.argoproj.io/sync-options: Prune=true
spec:
  capacity:
    storage: 10Gi
  volumeMode: Filesystem
  accessModes:
    - ReadWriteOnce
# WARNING: THIS WILL DELETE THE PV AND ALL DATA INSIDE IT
  persistentVolumeReclaimPolicy: Retain
  storageClassName: ''
  hostPath:
    type: Directory
    path: /mnt/somewhere/unencrypted/apps/prometheus/data
---
# Source: homelab-base-chart/templates/_generic/pvc.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: "prometheus-alertmanager-pv"
  namespace: argocd
  annotations:
    argocd.argoproj.io/sync-options: Prune=true
spec:
  capacity:
    storage: 10Gi
  volumeMode: Filesystem
  accessModes:
    - ReadWriteMany
# WARNING: THIS WILL DELETE THE PV AND ALL DATA INSIDE IT
  persistentVolumeReclaimPolicy: Retain
  storageClassName: ''
  hostPath:
    type: Directory
    path: /mnt/somewhere/unencrypted/apps/prometheus/alertmanager/data
  claimRef:
    apiVersion: v1
    kind: PersistentVolumeClaim
    name: "prometheus-alertmanager-pvc"
    namespace: argocd
---
# Source: homelab-base-chart/templates/_generic/pvc.yaml
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: "prometheus-grafana-pv"
  namespace: argocd
  annotations:
    argocd.argoproj.io/sync-options: Prune=true
spec:
  capacity:
    storage: 10Gi
  volumeMode: Filesystem
  accessModes:
    - ReadWriteMany
# WARNING: THIS WILL DELETE THE PV AND ALL DATA INSIDE IT
  persistentVolumeReclaimPolicy: Retain
  storageClassName: ''
  hostPath:
    type: Directory
    path: /mnt/somewhere/unencrypted/apps/prometheus/grafana/data
  claimRef:
    apiVersion: v1
    kind: PersistentVolumeClaim
    name: "prometheus-grafana-pvc"
    namespace: argocd
---
# Source: homelab-base-chart/templates/_generic/pvc.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: "prometheus-alertmanager-pvc"
  namespace: argocd
  annotations:
    argocd.argoproj.io/sync-options: Prune=true
spec:
  storageClassName: ''
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 10Gi
---
# Source: homelab-base-chart/templates/_generic/pvc.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: "prometheus-grafana-pvc"
  namespace: argocd
  annotations:
    argocd.argoproj.io/sync-options: Prune=true
spec:
  storageClassName: ''
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 10Gi
---
# Source: homelab-base-chart/templates/prometheus/prometheus-application.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: kube-prometheus-stack
  namespace: argocd
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  project: default
  source:
    chart: kube-prometheus-stack
    repoURL: https://prometheus-community.github.io/helm-charts
    targetRevision: 67.4.0
    helm:
      # Values file as block file
      valuesObject:
        # Default values for kube-prometheus-stack.
        # This is a YAML-formatted file.
        # Declare variables to be passed into your templates.

        ## Provide a name in place of kube-prometheus-stack for `app:` labels
        ##
        nameOverride: ""

        prometheus:
          prometheusSpec:
            replicas: 1
            storageSpec:
              volumeClaimTemplate:
                spec:
                  storageClassName: ""
                  accessModes: [ "ReadWriteOnce" ]
                  resources:
                    requests:
                      storage: 10Gi
                  selector:
                    matchLabels:
                      app: prometheus-prometheus
            # additionalScrapeConfigsSecret:
            #   enabled: true
            #   name: prometheus-scrape-secret
            #   key: scrape-config.yaml
          persistentVolumeClaim:
            existingClaim: prometheus-prometheus-pvc

        grafana:
          defaultDashboardsTimezone: Europe/Berlin
          adminPassword: ""
          adminUser: admin
          admin:
            existingSecret: grafana-admin-credentials
            userKey: admin-user
            passwordKey: admin-password
          sidecar:
            dashboards:
              enabled: true
              label: grafana_dashboard
          persistence:
            enabled: true
            existingClaim: prometheus-grafana-pvc
        alertmanager:
          alertmanagerSpec:
            logLevel: info
            secrets:
              - pagerduty-secret
          config:
            global:
              resolve_timeout: 5m
            route:
              group_by: ['cluster', 'alertname']
              group_wait: 30s
              group_interval: 5m
              repeat_interval: 12h
              receiver: 'pagerduty'
            receivers:
              - name: "null"  # Add this to your config as well
              - name: 'pagerduty'
                pagerduty_configs:
                  - send_resolved: true
                    service_key_file: "/etc/alertmanager/secrets/pagerduty-secret/pagerduty_service_key"
        defaultRules:
          create: true
          rules:
            kubeControllerManager: false
            kubeProxy: false
            kubeSchedulerAlerting: false
  destination:
    server: "https://kubernetes.default.svc"
    namespace: argocd
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
      - ServerSideApply=true
      - Prune=true
---
# Source: homelab-base-chart/templates/prometheus/pagerduty-external-secret.yaml
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: pagerduty-external-secret
  namespace: argocd
spec:
  refreshInterval: 1h

  secretStoreRef:
    kind: SecretStore
    name: akeyless-secret-store

  target:
    name: pagerduty-secret
    creationPolicy: Owner

  data:
    - secretKey: "pagerduty_service_key"
      remoteRef:
        key: "/kind-homelab/o11y/alertmanager/pagerduty_service_key"
---
# Source: homelab-base-chart/templates/prometheus/prometheus-external-secret.yaml
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: prometheus-external-secret
  namespace: argocd
spec:
  refreshInterval: 1h

  secretStoreRef:
    kind: SecretStore
    name: akeyless-secret-store

  target:
    name: grafana-admin-credentials
    creationPolicy: Owner

  data:
    - secretKey: "admin-user"
      remoteRef:
        key: "/kind-homelab/o11y/grafana/admin-user"
    - secretKey: "admin-password"
      remoteRef:
        key: "/kind-homelab/o11y/grafana/admin-password"
---
# Source: homelab-base-chart/templates/_generic/ingress-https.yaml
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: prometheus-https-9090-0
  namespace: argocd
  annotations:
    argocd.argoproj.io/sync-options: Prune=true,SkipDryRunOnMissingResource=true
spec:
  entryPoints:
    - websecure
  routes:
    - match: Host(`prometheus.home-server.dev`) 
      kind: Rule
      priority: 10
      services:
        - name: kube-prometheus-stack-prometheus
          port: 9090
      middlewares:
        - name: traefik-forward-auth
          namespace: argocd
  tls:
    certResolver: cloudflare
---
# Source: homelab-base-chart/templates/_generic/ingress-https.yaml
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: prometheus-https-80-1
  namespace: argocd
  annotations:
    argocd.argoproj.io/sync-options: Prune=true,SkipDryRunOnMissingResource=true
spec:
  entryPoints:
    - websecure
  routes:
    - match: Host(`grafana.home-server.dev`) 
      kind: Rule
      priority: 10
      services:
        - name: kube-prometheus-stack-grafana
          port: 80
      middlewares:
        - name: traefik-forward-auth
          namespace: argocd
  tls:
    certResolver: cloudflare
---
# Source: homelab-base-chart/templates/_generic/ingress-https.yaml
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: prometheus-https-9093-2
  namespace: argocd
  annotations:
    argocd.argoproj.io/sync-options: Prune=true,SkipDryRunOnMissingResource=true
spec:
  entryPoints:
    - websecure
  routes:
    - match: Host(`alertmanager.home-server.dev`) 
      kind: Rule
      priority: 10
      services:
        - name: kube-prometheus-stack-alertmanager
          port: 9093
      middlewares:
        - name: traefik-forward-auth
          namespace: argocd
  tls:
    certResolver: cloudflare
---
# Source: homelab-base-chart/templates/prometheus/custom-evaluations.yaml
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: custom-evaluations
  namespace: argocd
  labels:
    app: kube-prometheus-stack
    app.kubernetes.io/instance: kube-prometheus-stack
    release: kube-prometheus-stack
spec:
  groups:
  - name: custom-evaluations
    interval: 1m
    rules:
    - alert: DuplicatiBackupNotSuccessful
      annotations:
        summary: "Duplicati backup failed"
        description: "The Duplicati backup has not been successful in the last 10 minutes."
      expr: |
        last_over_time(duplicati_ops_result[10m]) > 0
      for: 1m
      labels:
        severity: critical
    - alert: ZFSPoolUnhealthy
      annotations:
        summary: "ZFS pool is unhealthy"
        description: "A ZFS pool is reporting unhealthy status."
      expr: |
        avg_over_time(zfs_pool_health[10m]) > 0
      for: 1m
      labels:
        severity: critical
    - alert: NoDuplicatiMetrics
      annotations:
        summary: "No Duplicati metrics found"
        description: "No Duplicati metrics have been found in the last 10 minutes."
      expr: |
        absent(duplicati_ops_result)
      for: 10m
      labels:
        severity: warning
    - alert: NoZFSMetrics
      annotations:
        summary: "No ZFS metrics found"
        description: "No ZFS metrics have been found in the last 10 minutes."
      expr: |
        absent(zfs_pool_health)
      for: 10m
      labels:
        severity: warning
