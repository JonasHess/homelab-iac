{{- if .Values.apps.paperlessngx.enabled -}}
apiVersion: v1
kind: ConfigMap
metadata:
  name: paperlessngx-config
  namespace: argocd
data:
  PAPERLESS_REDIS: "redis://redis-service:6379"
  PAPERLESS_DBHOST: "postgres-service"
  PAPERLESS_DBNAME: "paperless"
  PAPERLESS_DBUSER: "paperless"
  PAPERLESS_ADMIN_USER: {{ .Values.apps.paperlessngx.admin.username | quote }}
  PAPERLESS_ADMIN_MAIL: {{ .Values.apps.paperlessngx.admin.email | quote }}
  PAPERLESS_URL: https://paperlessngx.{{ .Values.domain }}
  PAPERLESS_CONSUMER_ENABLE_BARCODES: "true"
  PAPERLESS_CONSUMER_ENABLE_ASN_BARCODE: "true"
  PAPERLESS_CONSUMER_ASN_BARCODE_PREFIX: "https://asn.{{ .Values.domain }}/"
  PAPERLESS_CONSUMER_BARCODE_UPSCALE: "1.5"
  PAPERLESS_CONSUMER_BARCODE_MAX_PAGE: "5"
  PAPERLESS_OCR_USER_ARGS: "{\"invalidate_digital_signatures\": true}"
  PAPERLESS_TIKA_ENABLED: "1"
  PAPERLESS_TIKA_GOTENBERG_ENDPOINT: "https://gotenberg-service"
  PAPERLESS_TIKA_ENDPOINT: "https://tika-service"
{{- end -}}